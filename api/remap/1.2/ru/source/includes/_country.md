<!-- include(metadata.apib) -->

# Страна
## Страны [/entity/country]
Средствами JSON API можно создавать и обновлять сведения о Странах, запрашивать списки Стран и сведения по отдельным Странам. Кодом сущности для Страны в составе JSON API является ключевое слово **country**.
По данной сущности можно осуществлять контекстный поиск с помощью специального параметра `search`. Подробнее можно узнать по [ссылке](/api/remap/1.2/doc/index.html#header-контекстный-поиск). Поиск с параметром search отличается от других тем, что поиск не префиксный, без токенизации и идет только по одному полю одновременно. Ищет такие строки, в которые входит значение строки поиска.

Поиск среди объектов стран на соответствие поисковой строке будет осуществлён по следующим полям:
+ по наименованию Страны **name**
+ по описанию Страны **description**

### Атрибуты сущности
+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о Стране
+ **id** - ID в формате UUID `Только для чтения`
+ **accountId** - ID учетной записи `Только для чтения`
+ **updated** - Момент последнего обновления сущности `Только для чтения`
+ **shared** - Флаг Общий доступ `Только для пользовательских стран`
+ **owner** - Сотрудник-владелец `Только для пользовательских стран`
+ **group** - Отдел-владелец `Только для пользовательских стран`
+ **name** - Наименование Страны `Необходимое`
+ **description** - Описание Страны
+ **code** - Код Страны
+ **externalCode** - Внешний код Страны


### Получить Страны [GET]
Запрос на получения списка всех Стран для данной учётной записи.
Результат: Объект JSON, включающий в себя поля:
- **meta** [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о выдаче,
- **context** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) о сотруднике, выполнившем запрос.
- **rows** - Массив JSON объектов, представляющих собой Страны.

+ Parameters
  + limit: 1000 (optional, enum[number])
  Максимальное количество сущностей для извлечения.
  <p>
    <code>Допустимые значения 1 - 1000</code>
  </p>
      + Default: `1000`
  + offset: 40 (optional, number)
    Отступ в выдаваемом списке сущностей
      + Default: `0`

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Стран.
  + Body
        <!-- include(body/country/get_list.json) -->

### Создать Страну [POST]
Запрос на создание новой страны на данной учётной записи.
Единственное поле, которое обязательно должно присутствовать в теле запроса
на создание Страны - поле **name**.
+ Request Пример (application/json)
Пример запроса на создание новой страны.
  + Body
        <!-- include(body/country/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Страны.
  + Body
        <!-- include(body/country/post_response.json) -->

### Массовое создание и обновление Стран [POST]
[Массовое создание и обновление](/api/remap/1.2/doc/index.html#header-создание-и-обновление-нескольких-объектов) Стран.
В теле запроса нужно передать массив, содержащий JSON представления Стран, которые вы хотите создать или обновить.
Обновляемые Страны должны содержать идентификатор в виде метаданных.

+ Request Пример (application/json)
Пример создания и обновления нескольких Стран
  + Body
        <!-- include(body/country/post_massive_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Стран.
  + Body
        <!-- include(body/country/post_massive_response.json) -->

### Удалить Страну [DELETE /entity/country/{id}]
Запрос на удаление страны. Невозможно удаление предустановленных стран (стран имеющихся на учётной записи по умолчанию).
Удалить можно только страны, созданные через основной интерфейс или через метод POST.
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Страны

+ Response 200 (application/json)
Успешное удаление Розничной продажи.
+ Body

## Страна [/entity/country/{id}]
+ Parameters
  + id: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Страны

## Получить Страну [GET]
Запрос на получение страны с указанным id.
+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Страны с указанным id.
  + Body
        <!-- include(body/country/get_by_id.json) -->

## Изменить Страну [PUT]
Запрос на изменение объекта, представляющего собой страну. Невозможно изменение предустановленных стран (стран имеющихся на учётной записи по умолчанию).
Изменить можно только страны, созданные через основной интерфейс или через метод POST.

+ Request Пример (application/json)
Пример запроса на обновление страны.
  + Body
        <!-- include(body/country/put_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновлённой Страны.
  + Body
        <!-- include(body/country/put_response.json) -->
