<!-- include(metadata.apib) -->

# Публикация документов
JSON API позволяет опубликовать для общего пользования печатную форму документа, созданную на основе шаблона печатной формы.
Кодом сущности для публикации в составе JSON API является ключевое слово **publication**.

Работа пользователя с публикациями документов возможна, если есть право на чтение и право печати сущности данного типа.

Публикации доступны только для следующих типов: Заказ покупателя, Счет покупателю, Отгрузка, Заказ поставщику, Счет поставщика, Приемка, Входящий платеж, Приходный ордер, Исходящий платеж, Расходный ордер, Внутренний заказ, Перемещение, Оприходование, Списание, Счет-фактура выданный, Счет-фактура полученный, Возврат поставщику, Возврат покупателя, Выплата денег, Внесение денег, Розничный возврат, Розничная продажа, Договор, Розничная смена, Заказ на производство, Полученный отчёт комиссионера, Выданный отчёт комиссионера, Инвентаризация, Тех. Операция.


## Публикации [/entity/{type}/{id}/publication]
### Атрибуты сущности
+ **meta** - [Метаданные](/api/remap/1.2/doc/index.html#header-метаданные) Публикации
+ **template** - Ссылка на шаблон для печати в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные)
+ **href** - Ссылка на страницу Публикации

+ Parameters
  + type: `demand` (required, string) - тип сущности, по которой получить Публикации
  + id: `a86708d2-f8d3-4e67-8f04-6101158da808` (required, string) - id сущности, по которой получить Публикации


### Получить публикации [GET]
Запрос на получение списка Публикаций по указанному документу.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Публикаций.
  + Body
        <!-- include(body/publication/get_list.json) -->


### Создать публикацию [POST]
Запрос на публикацию документа.
Публикация документа происходит на основании переданного объекта JSON, который должен содержать ссылку на шаблона для печати документа **template** в формате [Метаданных](/api/remap/1.2/doc/index.html#header-метаданные). Если публикация была ранее создана, то ответ будет со статусом `200`.

+ Request Пример (application/json)
  + Body
        <!-- include(body/publication/post_request.json) -->

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление ранее созданной Публикации.
  + Body
        <!-- include(body/publication/post_response.json) -->

+ Response 201 (application/json)
Успешный запрос. Результат - JSON представление созданной Публикации.
  + Body
        <!-- include(body/publication/post_response.json) -->

## Публикация [/entity/{type}/{id}/publication/{publicationId}]
+ Parameters
  + type: `demand` (required, string) - тип сущности
  + id: `a86708d2-f8d3-4e67-8f04-6101158da808` (required, string) - id сущности
  + publicationId: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Публикации

### Удалить публикацию [DELETE]
Запрос на удаление Публикации с указанным id.

+ Response 204 (application/json)
Успешное удаление Публикации.
+ Body
      <!-- include(body/publication/post_response.json) -->

### Получить публикацию [GET]
+ Parameters
  + publicationId: `7944ef04-f831-11e5-7a69-971500188b19` (required, string) - id Публикации

Запрос на получение Публикации с указанным id.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление Публикации.
  + Body
        <!-- include(body/publication/post_response.json) -->
